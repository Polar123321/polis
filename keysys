local Library = loadstring(game:HttpGetAsync("https://github.com/ActualMasterOogway/Fluent-Renewed/releases/latest/download/Fluent.luau"))()

local Window2 = Library:CreateWindow{
    Title = "Key System Polis Hub",
    SubTitle = "",
    TabWidth = 160,
    Size = UDim2.fromOffset(830, 525),
    Resize = true,
    MinSize = Vector2.new(470, 380),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.RightControl
}

_G.Key = "7#mQ9@zL!2pXv$5&d#KMSadm#Kas898982>>KhKxX128"
_G.KeyInput = ""

local function SaveKey(key)
    writefile("KeySystemSave.txt", key)
end

local function LoadKey()
    if isfile("KeySystemSave.txt") then
        return readfile("KeySystemSave.txt")
    else
        return ""
    end
end

_G.KeyInput = LoadKey()

local Tabs = {
    Main = Window2:CreateTab{
        Title = "Key System",
        Icon = "phosphor-users-bold"
    },
    Settings = Window2:CreateTab{
        Title = "",
        Icon = ""
    }
}

function MakeScriptHub()
    if game.PlaceId == 7465136166 then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Polar123321/polis/refs/heads/main/PolisHub2Sea"))()
    elseif game.PlaceId == 3978370137 then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Polar123321/polis/refs/heads/main/PolisHub1Sea"))()
    else
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Polar123321/polis/refs/heads/main/PolisHub1Sea"))()
    end
end

function CorrectKey()
    Library:Notify{
        Title = "Key System",
        Content = "Correct Key! The script will be loaded.",
        Duration = 8
    }
    Window2:Destroy()
end

function IncorrectKey()
    Library:Notify{
        Title = "Key System",
        Content = "Incorrect Key",
        Duration = 8
    }
end

local Input = Tabs.Main:CreateInput("Input", {
    Title = "Key System",
    Default = _G.KeyInput,
    Placeholder = "Enter your key",
    Numeric = false,
    Finished = false,
    Callback = function(Value)
        _G.KeyInput = Value
        SaveKey(Value)
    end
})

local Button = Tabs.Main:CreateButton{
    Title = "Check Key",
    Description = "Check Key",
    Callback = function()
        if _G.KeyInput == _G.Key then
            MakeScriptHub()
            CorrectKey()
        else
            IncorrectKey()
        end
    end
}

if _G.KeyInput == _G.Key then
    MakeScriptHub()
    CorrectKey()
end

Window2:SelectTab(1)
